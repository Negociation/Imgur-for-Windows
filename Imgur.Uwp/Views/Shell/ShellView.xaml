<Page
    x:Class="Imgur.Uwp.Views.Shell.ShellView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:winui="using:Microsoft.UI.Xaml.Controls"
    xmlns:controls="using:Imgur.Uwp.Controls"
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:toolkit="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:Windows10version1809="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 7)"
    RequestedTheme="Dark"
    Background="#292c30">
    <Page.Resources>
        <Style x:Key="CustomNavigationViewItemStyle" TargetType="winui:NavigationViewItem">
            <Setter Property="FontFamily" Value="Arial"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Foreground" Value="Green"/>
            <Setter Property="Background" Value="LightGray"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Margin" Value="0,0,0,0"/>
            <Setter Property="Padding" Value="20,0,0,0"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="winui:NavigationViewItem">
                        <ContentPresenter Content="{TemplateBinding Content}"></ContentPresenter>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Estilo para o AutoSuggestBox com border radius -->
        <Style x:Key="RoundedAutoSuggestBoxStyle" TargetType="AutoSuggestBox">
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="TextBoxStyle">
                <Setter.Value>
                    <Style TargetType="TextBox">
                        <Setter Property="MinWidth" Value="{ThemeResource TextControlThemeMinWidth}"/>
                        <Setter Property="MinHeight" Value="32"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Background" Value="#FF2B2B2B"/>
                        <Setter Property="BorderBrush" Value="Transparent"/>
                        <Setter Property="SelectionHighlightColor" Value="{ThemeResource SystemControlHighlightAccentBrush}"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}"/>
                        <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}"/>
                        <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Auto"/>
                        <Setter Property="ScrollViewer.VerticalScrollMode" Value="Auto"/>
                        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden"/>
                        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"/>
                        <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
                        <Setter Property="Padding" Value="36,0,12,0"/>
                        <Setter Property="CornerRadius" Value="16"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TextBox">
                                    <Grid>
                                        <Grid.Resources>
                                            <Style x:Name="DeleteButtonStyle" TargetType="Button">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Button">
                                                            <Grid x:Name="ButtonLayoutGrid" 
                                                          BorderThickness="{TemplateBinding BorderThickness}" 
                                                          Background="Transparent">
                                                                <VisualStateManager.VisualStateGroups>
                                                                    <VisualStateGroup x:Name="CommonStates">
                                                                        <VisualState x:Name="Normal"/>
                                                                        <VisualState x:Name="PointerOver">
                                                                            <Storyboard>
                                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="GlyphElement">
                                                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="White"/>
                                                                                </ObjectAnimationUsingKeyFrames>
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                        <VisualState x:Name="Pressed">
                                                                            <Storyboard>
                                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="GlyphElement">
                                                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="#FFCCCCCC"/>
                                                                                </ObjectAnimationUsingKeyFrames>
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                        <VisualState x:Name="Disabled">
                                                                            <Storyboard>
                                                                                <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="ButtonLayoutGrid"/>
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                    </VisualStateGroup>
                                                                </VisualStateManager.VisualStateGroups>
                                                                <TextBlock x:Name="GlyphElement" 
                                                                  AutomationProperties.AccessibilityView="Raw" 
                                                                  Foreground="#FF999999" 
                                                                  FontStyle="Normal" 
                                                                  FontSize="12" 
                                                                  FontFamily="{ThemeResource SymbolThemeFontFamily}" 
                                                                  HorizontalAlignment="Center" 
                                                                  Text="&#xE10A;" 
                                                                  VerticalAlignment="Center"/>
                                                            </Grid>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Grid.Resources>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Disabled">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF666666"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="BorderElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF1A1A1A"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PlaceholderTextContentPresenter">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF666666"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="BorderElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF353535"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Focused">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="BorderElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF353535"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="BorderElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAccentBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderThickness" Storyboard.TargetName="BorderElement">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="2"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PlaceholderTextContentPresenter">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="0"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                            <VisualStateGroup x:Name="ButtonStates">
                                                <VisualState x:Name="ButtonVisible">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="DeleteButton">
                                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                                <DiscreteObjectKeyFrame.Value>
                                                                    <Visibility>Visible</Visibility>
                                                                </DiscreteObjectKeyFrame.Value>
                                                            </DiscreteObjectKeyFrame>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="ButtonCollapsed"/>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Border x:Name="BorderElement" 
                                        Grid.Row="1" 
                                        Background="{TemplateBinding Background}" 
                                        BorderBrush="{TemplateBinding BorderBrush}" 
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="16"/>

                                        <!-- Ícone de busca (lupa) -->
                                        <FontIcon Grid.Row="1"
                                          Glyph="&#xE721;" 
                                          FontSize="14"
                                          Foreground="#FF999999"
                                          Margin="10,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"/>

                                        <ContentPresenter x:Name="PlaceholderTextContentPresenter"
                                                 Grid.Row="1"
                                                 Foreground="#FF999999"
                                                 Margin="{TemplateBinding BorderThickness}"
                                                 Padding="36,0,12,0"
                                                 IsHitTestVisible="False"
                                                 Content="{TemplateBinding PlaceholderText}"
                                                 VerticalAlignment="Center"/>

                                        <ScrollViewer x:Name="ContentElement" 
                                             Grid.Row="1" 
                                             AutomationProperties.AccessibilityView="Raw" 
                                             HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" 
                                             HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" 
                                             IsTabStop="False" 
                                             IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" 
                                             IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" 
                                             IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" 
                                             Margin="{TemplateBinding BorderThickness}" 
                                             Padding="40,5,0,0" 
                                                      
                                             VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" 
                                             VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" 
                                             ZoomMode="Disabled"/>
                                        <Button x:Name="DeleteButton" 
                                       Grid.Row="1" 
                                       Style="{StaticResource DeleteButtonStyle}" 
                                       BorderThickness="{TemplateBinding BorderThickness}" 
                                       IsTabStop="False" 
                                       Margin="{ThemeResource HelperButtonThemePadding}" 
                                       FontSize="{TemplateBinding FontSize}" 
                                       MinWidth="34" 
                                       VerticalAlignment="Stretch" 
                                       HorizontalAlignment="Right" 
                                       Visibility="Collapsed"/>
                                    </Grid>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid x:Name="ShellGrid">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="PaneTitleRow"   Height="40" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <VisualStateManager.VisualStateGroups>

            <VisualStateGroup x:Name="SearchBarStates">
                <VisualState x:Name="SearchMobileInlineState">
                    <VisualState.Setters>
                        <Setter Target="SearchBox.(Grid.Column)" Value="0" />
                        <Setter Target="SearchBox.(Grid.ColumnSpan)" Value="3" />
                        <Setter Target="SearchBox.Margin" Value="50,20,50,15" />
                        <Setter Target="SearchBox.HorizontalAlignment" Value="Stretch" />
                        <Setter Target="SearchBox.MaxWidth" Value="600" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="SearchDesktopInlineState">
                    <VisualState.Setters>
                        <Setter Target="SearchBox.(Grid.Column)" Value="0" />
                        <Setter Target="SearchBox.HorizontalAlignment" Value="Center" />
                        <Setter Target="AutoSuggestSearchBox.MinWidth" Value="200" />
                        <Setter Target="SearchBox.Margin" Value="50,30,50,10" />
                        <Setter Target="SearchBox.(Grid.ColumnSpan)" Value="3" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
            
            <VisualStateGroup x:Uid="NavigationViewTriggers">
                <VisualState x:Name="WidescreenInlineState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1200" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="NavigationView.IsPaneToggleButtonVisible" Value="False" />
                        <Setter Target="NavigationView.IsPaneOpen" Value="True" />
                        <Setter Target="NavigationView.PaneDisplayMode" Value="Left" />
                        <Setter Target="NavigationView.IsPaneOpen" Value="True" />
                        <Setter Target="SearchBox.Visibility" Value="Visible" />
                        <Setter Target="SearchBox.HorizontalAlignment" Value="Stretch" />
                        <Setter Target="SearchBox.MaxWidth" Value="600" />
                        <Setter Target="SearchBox.(Grid.Column)" Value="1" />
                        <Setter Target="SearchBox.(Grid.ColumnSpan)" Value="1" />
                        <Setter Target="PaneSearchBox.Visibility" Value="Collapsed" />
                        <Setter Target="MainFrame.Padding" Value="10,0,0,0" />
                        <Setter Target="NavigationViewContent.Margin" Value="0" />

                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="InlineState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="800" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="NavigationView.IsPaneToggleButtonVisible" Value="False" />
                        <Setter Target="NavigationView.PaneDisplayMode" Value="Left" />
                        <Setter Target="NavigationView.IsPaneOpen" Value="True" />
                        <Setter Target="SearchBox.Visibility" Value="Visible" />
                        <Setter Target="MainFrame.Padding" Value="10,10,0,0" />
                        <Setter Target="NavigationViewContent.Margin" Value="0" />

                    </VisualState.Setters>
                </VisualState>

                <VisualState x:Name="CompactInlineState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="500" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="NavigationView.IsPaneToggleButtonVisible" Value="True" />
                        <Setter Target="NavigationView.PaneDisplayMode" Value="Left" />
                        <Setter Target="NavigationView.IsPaneOpen" Value="False" />
                        <Setter Target="MainFrame.Padding" Value="10,0,0,0" />
                        <Setter Target="HeaderCompactContent.Visibility" Value="Visible" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="CompactOverlayState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="300" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="NavigationView.IsPaneToggleButtonVisible" Value="True" />
                        <Setter Target="NavigationView.IsPaneOpen" Value="False" />

                        <Setter Target="MainFrame.Padding" Value="0,15,0,0" />
                        <Setter Target="NavigationViewContent.Margin" Value="0" />

                    </VisualState.Setters>
                </VisualState>

                <VisualState x:Name="CompactOverlayDesktopState">
                    <VisualState.Setters>
                        <Setter Target="PaneTitle.Background" Value="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"/>
                        <Setter Target="PaneTitle.Column" Value="0" />
                        <Setter Target="PaneTitle.(Grid.ColumnSpan)" Value="2" />
                        <Setter Target="NavigationViewContent.Margin" Value="0,0,0,30" />
                    </VisualState.Setters>
                    <Storyboard>
                        <DoubleAnimation
                    Storyboard.TargetName="NavTranslate"
                    Storyboard.TargetProperty="Y"
                    To="30"
                    Duration="0:0:0.3">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut"/>
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>

            
        </VisualStateManager.VisualStateGroups>

        <Grid x:Name="PaneTitle" Height="32" VerticalAlignment="Top" Grid.Column="2"  Background="Transparent"/>
        <Button x:Name="FocusCatcher" 
            Opacity="0" 
            IsTabStop="False"
            Width="1" 
            Height="1"
            Grid.Row="0"
            Grid.Column="0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"/>
        
        <Grid x:Name="NavigationViewContent" Margin="0" Background="Transparent" Grid.RowSpan="2" Grid.ColumnSpan="2">
            <!-- Animation Tranformers for Desktop (If width < 500px) -->
            <winui:NavigationView x:Name="NavigationView" Style="{StaticResource NavigationViewStyle}" Grid.RowSpan="2" Margin="0,0,0 0" IsSettingsVisible="False" PaneOpening="NavigationView_PaneOpening" CompactPaneLength="58"  OpenPaneLength="280" IsTitleBarAutoPaddingEnabled="False"  IsBackButtonVisible="Collapsed">
                <winui:NavigationView.RenderTransform>
                    <TranslateTransform x:Name="NavTranslate"/>
                </winui:NavigationView.RenderTransform>

                <winui:NavigationView.PaneHeader>
                    <StackPanel Margin="0"  x:Name="PaneTitleContent" Orientation="Horizontal" HorizontalAlignment="Left" >
                        <Image Height="24" Source="ms-appx:///Assets/App/logo_transparent.png"  />
                        <Image Height="20"  VerticalAlignment="Center" Margin="4,0,0,0"  Source="ms-appx:///Assets/App/sign_transparent.png" />
                    </StackPanel>
                </winui:NavigationView.PaneHeader>
                <winui:NavigationView.Header>
                    <StackPanel Orientation="Horizontal"  Grid.ColumnSpan="3">
                        <Image Height="24"  Source="ms-appx:///Assets/App/logo_transparent.png" VerticalAlignment="Center"  />
                        <Image Height="20"  Margin="4,0,0,0"  Source="ms-appx:///Assets/App/sign_transparent.png"  VerticalAlignment="Center" />
                    </StackPanel>
                </winui:NavigationView.Header>
                <winui:NavigationView.AutoSuggestBox>
                    <AutoSuggestBox x:Uid="PaneSearchBox"  QueryIcon="Find" IsTabStop="False" IsFocusEngaged="False" Margin="0,-20,0,0" BorderBrush="#1e2022" MinWidth="260" BorderThickness="1.2" Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"   x:Name="PaneSearchBox" Visibility="{Binding IsPaneOpen,ElementName=SplitView}" Grid.Column="2" Opacity="0.9"  HorizontalAlignment="Stretch" QuerySubmitted="SearchBox_QuerySubmitted" />
                </winui:NavigationView.AutoSuggestBox>

                <winui:NavigationView.MenuItems>
                    <winui:NavigationViewItem x:Name="HomeItem" IsSelected="True" IsEnabled="True" Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Home"  Command="{Binding Path=NavigateToCommand}" CommandParameter="explorer" Icon="&#xEA8A;" IsSelected="{x:Bind HomeItem.IsSelected,Mode=OneWay}" IsEnabled="{x:Bind ExplorerItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource SegoeMDLGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>
                    <winui:NavigationViewItem x:Name="ExplorerItem" IsSelected="True" IsEnabled="True" Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Explorer"  Command="{Binding Path=NavigateToCommand}" CommandParameter="explorerSearch" Icon="&#xF133;" IsSelected="{x:Bind ExplorerItem.IsSelected,Mode=OneWay}" IsEnabled="{x:Bind ExplorerItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource SegoeMDLGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>
                    <winui:NavigationViewItem  x:Name="TagsItem" IsSelected="False" IsEnabled="False" Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Tags" Command="{Binding Path=NavigateToCommand}" CommandParameter="tags" Icon="&#xE8EC;" IsSelected="{x:Bind TagsItem.IsSelected,Mode=OneWay}" IsEnabled="{x:Bind TagsItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource FluentUIGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>

                    <winui:NavigationViewItem  x:Name="ConnectItem" IsSelected="False" SelectsOnInvoked="False" IsEnabled="True" Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Connect" Icon="&#xE748;" IsSelected="{x:Bind ConnectItem.IsSelected,Mode=OneWay}" IsEnabled="{x:Bind ConnectItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource FluentUIGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>
                </winui:NavigationView.MenuItems>
                <winui:NavigationView.FooterMenuItems>

                    <winui:NavigationViewItem x:Name="UploadItem" IsSelected="False" IsEnabled="True" SelectsOnInvoked="False"  Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Upload" Icon="&#xEE71;" Command="{Binding InvokeUploadCommand}" IsEnabled="{x:Bind UploadItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource FluentUIGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>

                    <winui:NavigationViewItem x:Name="SettingsItem" IsSelected="False" IsEnabled="True"  Style="{StaticResource CustomNavigationViewItemStyle}">
                        <winui:NavigationViewItem.Content>
                            <controls:NavigationViewItem x:Uid="Settings"  Command="{Binding Path=NavigateToCommand}" CommandParameter="settings" Icon="&#xE713;" IsSelected="{x:Bind SettingsItem.IsSelected,Mode=OneWay}" IsEnabled="{x:Bind SettingsItem.IsEnabled,Mode=OneWay}" FontIcon="{StaticResource FluentUIGlyphs}" />
                        </winui:NavigationViewItem.Content>
                    </winui:NavigationViewItem>
                </winui:NavigationView.FooterMenuItems>
                <winui:NavigationView.PaneFooter>
                    <StackPanel Height="40" Orientation="Horizontal" Padding="0,2,10,0">
                        <Button Style="{StaticResource CircleButtonStyle}" Background="Transparent" Width="40" Height="40" HorizontalContentAlignment="Center" VerticalAlignment="Center" BorderThickness="0" Padding="10" ToolTipService.ToolTip="Upload New File"  Command="{Binding InvokeUploadCommand}">
                            <FontIcon  FontFamily="{StaticResource FluentUIGlyphs}" Foreground="White" FontWeight="Light" FontSize="16" Glyph="&#xEE71;"/>
                        </Button>
                        <Button Style="{StaticResource CircleButtonStyle}" Background="Transparent" Width="40" Height="40" HorizontalContentAlignment="Center" VerticalAlignment="Center" BorderThickness="0" Padding="10" ToolTipService.ToolTip="Buscar">
                            <FontIcon  FontFamily="{StaticResource SegoeMDLGlyphs}" Foreground="White" FontWeight="Light" FontSize="16" Glyph="&#xE721;"/>
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="Tapped">
                                    <Core:ChangePropertyAction TargetObject="{Binding ElementName=NavigationView}" PropertyName="IsPaneOpen" Value="True"></Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>
                        </Button>
                    </StackPanel>
                </winui:NavigationView.PaneFooter>
                <winui:NavigationView.Content>

                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.4*"  />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="0.4*"  />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <StackPanel x:Name="HeaderCompactContent" Orientation="Horizontal" Padding="15,10,0,0" Height="48" Grid.ColumnSpan="3" Visibility="Collapsed" >
                            <Image Height="24"  Source="ms-appx:///Assets/App/logo_transparent.png" VerticalAlignment="Center" Visibility="{Binding ElementName=NavigationView,Path=IsPaneOpen,Converter={StaticResource BoolNegationConverter}}"  />
                            <Image Height="20"  Margin="4,0,0,0"  Source="ms-appx:///Assets/App/sign_transparent.png"  VerticalAlignment="Center" Visibility="{Binding ElementName=NavigationView,Path=IsPaneOpen,Converter={StaticResource BoolNegationConverter}}"  />
                        </StackPanel>
                        <toolkit:DropShadowPanel  Grid.Column="0" Grid.ColumnSpan="2" BlurRadius="20" OffsetX="0" OffsetY="0" ShadowOpacity="1" Color="#01b96b" HorizontalContentAlignment="Stretch" x:Name="SearchBox" Visibility="Collapsed" HorizontalAlignment="Left"   Margin="15,15,30,10">
                            <AutoSuggestBox x:Uid="ShellSearchBox" Style="{StaticResource RoundedAutoSuggestBoxStyle}"  x:Name="AutoSuggestSearchBox" QuerySubmitted="SearchBox_QuerySubmitted"  QueryIcon="Find" BorderBrush="#1b1c1d" Windows10version1809:CornerRadius="15" Opacity="1" BorderThickness="2" FocusVisualSecondaryBrush="BlueViolet" IsTabStop="False"  Background="#1b1c1d" VerticalAlignment="Top" />
                        </toolkit:DropShadowPanel>
                        <Frame Grid.Row="1" Background="Transparent" Padding="0,10,0,0" Grid.ColumnSpan="3" Visibility="Visible" x:Name="MainFrame"/>
                    </Grid>
                </winui:NavigationView.Content>
            </winui:NavigationView>
        </Grid>

        <Grid x:Name="ShellNotificationGrid" HorizontalAlignment="Right" VerticalAlignment="Top" Background="Blue" />
    </Grid>
</Page>
